{%include "adminheader.html" %}
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyD3MPnSnyWwNmpnVEFkaddVvy_GWtxSejs&sensor=false"></script>
        <script type="text/javascript">
            // window.onload = function () {
            function myFunction() {
                var mapOptions = {
                    center: new google.maps.LatLng(9.9763482, 76.286272),
                    zoom: 14,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                var infoWindow = new google.maps.InfoWindow();
                var latlngbounds = new google.maps.LatLngBounds();
                var map = new google.maps.Map(document.getElementById("dvMap"), mapOptions);
                google.maps.event.addListener(map, 'click', function (e) {
                    alert("Latitude: " + e.latLng.lat() + "\r\nLongitude: " + e.latLng.lng());
                    document.getElementById('slati').value = e.latLng.lat();
                    document.getElementById('elongi').value = e.latLng.lng();


                });
            }
        </script>
        <style type="text/css">
        </style>
        <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyD3MPnSnyWwNmpnVEFkaddVvy_GWtxSejs&sensor=false"></script>
        <script type="text/javascript">
            // window.onload = function () {
            function myfun() {
                var mapOptions = {
                    center: new google.maps.LatLng(9.9763482, 76.286272),
                    zoom: 14,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                var infoWindow = new google.maps.InfoWindow();
                var latlngbounds = new google.maps.LatLngBounds();
                var map = new google.maps.Map(document.getElementById("dvMap"), mapOptions);
                google.maps.event.addListener(map, 'click', function (e) {
                    alert("Latitude: " + e.latLng.lat() + "\r\nLongitude: " + e.latLng.lng());
                    document.getElementById('slati1').value = e.latLng.lat();
                    document.getElementById('elongi1').value = e.latLng.lng();


                });
            }
        </script>
        <style type="text/css">
        </style>
<center>
	<form method="post">

		<table class="table" style="width:500px">

			{% if data['drivers'] %}
			<h1><b>ASSIGN VEHICLES</b></h1>
            <br>
            <br>
			<tr>
				<th>Vehicle Name</th>
				<td>
				<select name="vname"  required>
					<option>Select</option>
					{% for row in data['vehicles'] %}
					<option value="{{ row['vehicle_id']}}">{{ row['vehicle']}}</option>
					{% endfor %}
				</select>
				</td>
			</tr>
			<tr>
				<th>Driver Name</th>
				<td><input type="text" name="dname" value="{{data['name']}}" pattern="[A-Za-z/s]{0,30}" required readonly>{{data['driver_id']}}</td>
			</tr>
			 <td><a onclick="myFunction();">View Map</a></td>
			<tr>
				<th>Latitude</th>
				<td><input type="text" name="latitude" id="slati" required></td>
			</tr>
			<tr>
				<th>Longitude</th>
				<td><input type="text" name="longitude"  id="elongi" required></td>
			</tr>
			<tr>
				<td colspan="2" align="center"><input type="submit" name="submits" value="Assign" class="btn btn-success"></td>
			</tr>
			{% endif %}
			
		</table>
		 <div id="dvMap" style="width: 600px; height: 400px"></div>
            <h2 align="center"><u><strong>VIEW ROUTE</strong></u></h2><br><br>

					
			
		
	</form>
</center>
{%include "footer.html" %}